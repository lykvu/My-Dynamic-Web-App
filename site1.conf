# Purpose: The /etc/httpd/conf.d/site1.conf file is essential for defining how Apache should handle requests for site1.mydynamicwebapp.com, 
specifying the document root, access permissions, logging, and SSL settings for the subdomain.

# Define the virtual host for HTTP (port 80)
<VirtualHost *:80>
    # The domain name for this virtual host
    ServerName site1.mydynamicwebapp.com
    
    # The directory where the website files are stored
    DocumentRoot /var/www/html/site1

    # Directory permissions and settings
    <Directory /var/www/html/site1>
        # Allow .htaccess files to override server settings
        AllowOverride All
        # Allow access to all users
        Require all granted
    </Directory>

    # Error log file location for this virtual host
    ErrorLog /var/log/httpd/site1-error.log
    # Access log file location for this virtual host
    CustomLog /var/log/httpd/site1-access.log combined
</VirtualHost>

# Define the virtual host for HTTPS (port 443)
<VirtualHost *:443>
    # The domain name for this virtual host
    ServerName site1.mydynamicwebapp.com
    
    # The directory where the website files are stored
    DocumentRoot /var/www/html/site1

    # Directory permissions and settings
    <Directory /var/www/html/site1>
        # Allow .htaccess files to override server settings
        AllowOverride All
        # Allow access to all users
        Require all granted
    </Directory>

    # Enable SSL for this virtual host
    SSLEngine on
    # The full path to the SSL certificate file
    SSLCertificateFile /etc/letsencrypt/live/site1.mydynamicwebapp.com/fullchain.pem
    # The full path to the SSL certificate key file
    SSLCertificateKeyFile /etc/letsencrypt/live/site1.mydynamicwebapp.com/privkey.pem

    # Error log file location for this virtual host
    ErrorLog /var/log/httpd/site1-error.log
    # Access log file location for this virtual host
    CustomLog /var/log/httpd/site1-access.log combined
</VirtualHost>
